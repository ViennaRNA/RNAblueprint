# @configure_input@

use ExtUtils::MakeMaker;

WriteMakefile(
	'MAKEFILE' => 'Makefile.perl',
	'NAME'     => '@PACKAGE_NAME@',
	'LIBS'     => '-L@top_srcdir@/lib -lRNAdesign -lstdc++',
	'CCFLAGS'  => '-std=c++11',
	'INC'	   => '-I@top_srcdir@/lib',
	'OBJECT'   => 'RNAdesign_wrap.o',
	'AUTHOR'   => 'Stefan Hammer <jango@tbi.univie.ac.at>',
	'VERSION'  => '@VERSION@'
);


package MY;
sub postamble {
		return <<'MAKE_FRAG';

MYPACKLIST = $(DESTINSTALLSITEARCH)/auto/$(FULLEXT)/.packlist
MYPERLLOCAL = $(INSTALLARCHLIB)/perllocal.pod
uninstall-custom:
		$(NOECHO) dirs=`cat $(MYPACKLIST) | xargs -n 1 dirname`; \
		$(PERLRUN) -MExtUtils::Install -e \
		  'uninstall('\''$(MYPACKLIST)'\',1,0')'; \
		for d in $$dirs; do \
		  if test -d $$d && test -n "`find $$d -maxdepth 0 -empty`"; then \
			echo rmdir $$d; \
			rmdir $$d; \
		  fi; \
		done; \
		$(PERLRUN) -MPod::Select -e \
		'podselect({-output=>'\''$(MYPERLLOCAL).tmp'\'',-sections=>[qq[/\!.*RNAdesign.*/]]},'\''$(MYPERLLOCAL)'\'')';
		$(MV) $(MYPERLLOCAL).tmp $(MYPERLLOCAL);
MAKE_FRAG
}
# End of file

